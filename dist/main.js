(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var t,n,o,r,c,a,i,l,s,u,d,f,m;f=document.querySelector(".btn-order-call"),m=document.querySelector(".overlay"),f.addEventListener("click",(function(){m.style.display="block"})),m.addEventListener("click",(function(e){var t=e.target;t.classList.contains("header-modal__close")?m.style.display="none":(t=t.closest(".header-modal"))||(m.style.display="none")})),function(){var e=document.querySelector(".benefits-inner"),t=document.querySelector(".benefits-wrap"),n=document.querySelectorAll(".benefits__item"),o=document.querySelector(".benefits__arrow--left"),r=document.querySelector(".benefits__arrow--right");if(e.style.overflow="hidden",t.style.marginLeft="inherit",screen.width<=1220){var c=0,a=n.length,i=e.clientWidth/1,l=1*i;n.forEach((function(e){e.style.minWidth="".concat(i,"px")})),r.addEventListener("click",(function(){var e=a-(Math.abs(c)+1*i)/i;c-=e>=1?l:e*i,s()})),o.addEventListener("click",(function(){var e=Math.abs(c)/i;c+=e>=1?l:e*i,s()}));var s=function(){t.style.transform="translateX(".concat(c,"px)")}}else{var u=0,d=n.length,f=e.clientWidth/3,m=3*f;n.forEach((function(e){e.style.minWidth="".concat(f,"px")})),r.addEventListener("click",(function(){var e=d-(Math.abs(u)+3*f)/f;u-=e>=3?m:e*f,v()})),o.addEventListener("click",(function(){var e=Math.abs(u)/f;u+=e>=3?m:e*f,v()}));var v=function(){t.style.transform="translateX(".concat(u,"px)")}}}(),u=document.querySelectorAll(".service-button"),d=document.querySelector(".overlayTwo"),u.forEach((function(e){e.addEventListener("click",(function(){d.style.display="block"}))})),d.addEventListener("click",(function(e){var t=e.target;t.classList.contains("services-modal__close")?d.style.display="none":(t=t.closest(".services-modal"))||(d.style.display="none")})),function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"27 October 2021",n=document.querySelectorAll(".count_1 span"),o=document.querySelectorAll(".count_2 span"),r=document.querySelectorAll(".count_3 span"),c=document.querySelectorAll(".count_4 span"),a=function(){var e=(new Date(t).getTime()-(new Date).getTime())/1e3,n=Math.floor(e%60),o=Math.floor(e/60%60),r=Math.floor(e/60/60);return{timeRemaining:e,day:Math.floor(e/60/60/24),hours:r,minutes:o,second:n}},i=function(){var t=a();t.timeRemaining>0?(n.forEach((function(e){e.textContent=("0"+t.day).slice(-2)})),o.forEach((function(e){e.textContent=("0"+t.hours).slice(-2)})),r.forEach((function(e){e.textContent=("0"+t.minutes).slice(-2)})),c.forEach((function(e){e.textContent=("0"+t.second).slice(-2)}))):(clearInterval(e),n.forEach((function(e){e.textContent="00"})),o.forEach((function(e){e.textContent="00"})),r.forEach((function(e){e.textContent="00"})),c.forEach((function(e){e.textContent="00"})))};i(),e=setInterval(i,1e3)}(),a=document.querySelectorAll("[name=fio]"),i=document.querySelectorAll("[name=phone]"),l=function(e){e.value=e.value.replace(/\s+/g," "),e.value=e.value.replace(/\-+/g,"-");var t=new RegExp("ReGeX"+e.value+"ReGeX");/^[/ /-]/.test(t)&&(e.value=e.value.replace(/^[/ /-]/,"")),/[/ /-]$/.test(t)&&(e.value=e.value.replace(/[/ /-]$/,""))},s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Введите корректные данные";""!==e.value&&(e.value.match(t)||(alert(n),e.value=""))},a.forEach((function(e){e.addEventListener("blur",(function(){l(e),e.value=e.value.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join(" "),s(e,/[A-Za-zА-Яа-яЁё]{2,}/g)}))})),i.forEach((function(e){e.addEventListener("blur",(function(){l(e),s(e,/\+?(\d){2,16}$/g)}))})),c=document.querySelector(".smooth-scroll"),window.addEventListener("scroll",(function(){(window.pageYOffset||document.documentElement.scrollTop)>800?c.classList.add("smooth-scroll--active"):c.classList.remove("smooth-scroll--active")})),c.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})})),o=document.querySelectorAll(".sertificate-document"),r=document.querySelector(".popupImg"),o.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),n=(n=e.querySelector(".img-responsive")).cloneNode(),r.append(n),r.querySelector(".img-responsive").removeAttribute("class"),r.getElementsByTagName("img")[0].classList.add("inPopupImg"),r.style.display="block"}))})),r.addEventListener("click",(function(e){var t=e.target,n=r.querySelector(".inPopupImg");t.closest(".inPopupImg")||(r.style.display="none",n.remove())})),function(){var e=document.getElementById("services"),t=e.querySelector(".row"),n=document.querySelector(".service-wrap"),o=document.querySelectorAll(".service-item"),r=document.querySelectorAll(".service-block"),c=e.querySelector(".services__arrow--left"),a=e.querySelector(".services__arrow--right");if(t.style.cssText="overflow: hidden;\n    text-align: -webkit-center;",screen.width>=1200){var i=0,l=o.length,s=t.clientWidth/2,u=2*s;r.forEach((function(e){e.style.minWidth="500px"})),o.forEach((function(e){e.style.minWidth="".concat(s,"px")})),a.addEventListener("click",(function(){var e=l-(Math.abs(i)+2*s)/s;i-=e>=2?u:e*s,d()})),c.addEventListener("click",(function(){var e=Math.abs(i)/s;i+=e>=2?u:e*s,d()}));var d=function(){n.style.transform="translateX(".concat(i,"px)")}}else{var f=0,m=o.length,v=t.clientWidth/1,y=1*v;o.forEach((function(e){screen.width<=581?(t.style.cssText="overflow: hidden;\n    text-align: -webkit-center;",e.style.minWidth="".concat(v,"px"),r.forEach((function(e){e.style.minWidth="300px"})),screen.width<=380&&(t.style.cssText="overflow: hidden",e.style.minWidth="".concat(v,"px"),r.forEach((function(e){e.style.minWidth="225px"})))):(e.style.minWidth="".concat(v,"px"),r.forEach((function(e){e.style.minWidth="500px"})))})),a.addEventListener("click",(function(){var e=m-(Math.abs(f)+1*v)/v;f-=e>=1?y:e*v,h()})),c.addEventListener("click",(function(){var e=Math.abs(f)/v;f+=e>=1?y:e*v,h()}));var h=function(){n.style.transform="translateX(".concat(f,"px)")}}}(),document.getElementById("reviews").querySelector(".row"),(t=new XMLHttpRequest).open("GET","./comments.json"),t.setRequestHeader("Content-type","application/json"),t.send(),t.addEventListener("readystatechange",(function(){if(4===t.readyState&&200===t.status){var e=JSON.parse(t.responseText).comments.map((function(e){return e})),n=e.slice(1),o=e[0];console.log(n),console.log(o),console.log(n.push(o))}})),function(){var t=function(t){var n;(n=document.getElementById(t).elements,function(t){if(Array.isArray(t))return e(t)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter((function(e){return"button"!==e.tagName.toLowerCase()&&"button"!==e.type})).forEach((function(e){return e.value=""}))},n=function(){var e=document.querySelector(".successError");setTimeout((function(){e.remove(),document.querySelector(".overlay").style.display="none",document.querySelector(".overlayTwo").style.display="none"}),2e3)},o=function(e){var o=document.getElementById(e),c=document.createElement("div"),a=document.createElement("img");c.className="successError",c.style.cssText="font-size: 2rem; color: black;",a.height=50,o.addEventListener("submit",(function(i){i.preventDefault();var l=new FormData(o),s={};l.forEach((function(e,t){s[t]=e})),""===s.fio||""===s.phone?alert("Введите данные"):(c.textContent="Загрузка...",a.src="./images/wait/wait.gif",c.insertBefore(a,c.firstChild),o.appendChild(c),r(s).then((function(){c.textContent="Спасибо! Мы скокро с вами свяжемся!",a.src="./images/wait/success.png",c.insertBefore(a,c.firstChild),t(e),n()})).catch((function(o){c.textContent="Что то пошло не так...",a.src="./images/wait/error.png",c.insertBefore(a,c.firstChild),t(e),n(),console.error(o)})))}))};o("form1"),o("form2"),o("form3"),o("form4");var r=function(e){return new Promise((function(t,n){var o=new XMLHttpRequest;o.addEventListener("readystatechange",(function(){4===o.readyState&&(200===o.status?t():n(o.status))})),o.open("POST","./server.php"),o.setRequestHeader("Content-Type","application/json"),o.send(JSON.stringify(e))}))}}()})();