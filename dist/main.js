(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var t,n,r,o,c,i,a,l,s,u,d,f;d=document.querySelector(".btn-order-call"),f=document.querySelector(".overlay"),d.addEventListener("click",(function(){f.style.display="block"})),f.addEventListener("click",(function(e){var t=e.target;t.classList.contains("header-modal__close")?f.style.display="none":(t=t.closest(".header-modal"))||(f.style.display="none")})),function(){var e=document.querySelector(".benefits-inner"),t=document.querySelector(".benefits-wrap"),n=document.querySelectorAll(".benefits__item"),r=document.querySelector(".benefits__arrow--left"),o=document.querySelector(".benefits__arrow--right");if(e.style.overflow="hidden",t.style.marginLeft="inherit",screen.width<=1220){var c=0,i=n.length,a=e.clientWidth/1,l=1*a;n.forEach((function(e){e.style.minWidth="".concat(a,"px")})),o.addEventListener("click",(function(){var e=i-(Math.abs(c)+1*a)/a;c-=e>=1?l:e*a,s()})),r.addEventListener("click",(function(){var e=Math.abs(c)/a;c+=e>=1?l:e*a,s()}));var s=function(){t.style.transform="translateX(".concat(c,"px)")}}else{var u=0,d=n.length,f=e.clientWidth/3,m=3*f;n.forEach((function(e){e.style.minWidth="".concat(f,"px")})),o.addEventListener("click",(function(){var e=d-(Math.abs(u)+3*f)/f;u-=e>=3?m:e*f,v()})),r.addEventListener("click",(function(){var e=Math.abs(u)/f;u+=e>=3?m:e*f,v()}));var v=function(){t.style.transform="translateX(".concat(u,"px)")}}}(),s=document.querySelectorAll(".service-button"),u=document.querySelector(".overlayTwo"),s.forEach((function(e){e.addEventListener("click",(function(){u.style.display="block"}))})),u.addEventListener("click",(function(e){var t=e.target;t.classList.contains("services-modal__close")?u.style.display="none":(t=t.closest(".services-modal"))||(u.style.display="none")})),function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"31 December 2021",n=document.querySelectorAll(".count_1 span"),r=document.querySelectorAll(".count_2 span"),o=document.querySelectorAll(".count_3 span"),c=document.querySelectorAll(".count_4 span"),i=function(){var e=(new Date(t).getTime()-(new Date).getTime())/1e3,n=Math.floor(e%60),r=Math.floor(e/60%60),o=Math.floor(e/60/60);return{timeRemaining:e,day:Math.floor(e/60/60/24),hours:o,minutes:r,second:n}},a=function(){var t=i();t.timeRemaining>0?(n.forEach((function(e){e.textContent=("0"+t.day).slice(-2)})),r.forEach((function(e){e.textContent=("0"+t.hours).slice(-2)})),o.forEach((function(e){e.textContent=("0"+t.minutes).slice(-2)})),c.forEach((function(e){e.textContent=("0"+t.second).slice(-2)}))):(clearInterval(e),n.forEach((function(e){e.textContent="00"})),r.forEach((function(e){e.textContent="00"})),o.forEach((function(e){e.textContent="00"})),c.forEach((function(e){e.textContent="00"})))};a(),e=setInterval(a,1e3)}(),c=document.querySelectorAll("[name=fio]"),i=document.querySelectorAll("[name=phone]"),a=function(e){e.value=e.value.replace(/\s+/g," "),e.value=e.value.replace(/\-+/g,"-");var t=new RegExp("ReGeX"+e.value+"ReGeX");/^[/ /-]/.test(t)&&(e.value=e.value.replace(/^[/ /-]/,"")),/[/ /-]$/.test(t)&&(e.value=e.value.replace(/[/ /-]$/,""))},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Введите корректные данные";""!==e.value&&(e.value.match(t)||(alert(n),e.value=""))},c.forEach((function(e){e.addEventListener("blur",(function(){a(e),e.value=e.value.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join(" "),l(e,/[A-Za-zА-Яа-яЁё]{2,}/g)}))})),i.forEach((function(e){e.addEventListener("blur",(function(){a(e),l(e,/\+?(\d){2,16}$/g)}))})),o=document.querySelector(".smooth-scroll"),window.addEventListener("scroll",(function(){(window.pageYOffset||document.documentElement.scrollTop)>800?o.classList.add("smooth-scroll--active"):o.classList.remove("smooth-scroll--active")})),o.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})})),n=document.querySelectorAll(".sertificate-document"),r=document.querySelector(".popupImg"),n.forEach((function(e){e.addEventListener("click",(function(n){n.preventDefault(),t=(t=e.querySelector(".img-responsive")).cloneNode(),r.append(t),r.querySelector(".img-responsive").removeAttribute("class"),r.getElementsByTagName("img")[0].classList.add("inPopupImg"),r.style.display="block"}))})),r.addEventListener("click",(function(e){var t=e.target,n=r.querySelector(".inPopupImg");t.closest(".inPopupImg")||(r.style.display="none",n.remove())})),function(){var e=document.getElementById("services"),t=e.querySelector(".row"),n=document.querySelector(".service-wrap"),r=document.querySelectorAll(".service-item"),o=document.querySelectorAll(".service-block"),c=e.querySelector(".services__arrow--left"),i=e.querySelector(".services__arrow--right");if(t.style.cssText="overflow: hidden;\n    text-align: -webkit-center;",screen.width>=1200){var a=0,l=r.length,s=t.clientWidth/2,u=2*s;o.forEach((function(e){e.style.minWidth="500px"})),r.forEach((function(e){e.style.minWidth="".concat(s,"px")})),i.addEventListener("click",(function(){var e=l-(Math.abs(a)+2*s)/s;a-=e>=2?u:e*s,d()})),c.addEventListener("click",(function(){var e=Math.abs(a)/s;a+=e>=2?u:e*s,d()}));var d=function(){n.style.transform="translateX(".concat(a,"px)")}}else{var f=0,m=r.length,v=t.clientWidth/1,y=1*v;r.forEach((function(e){screen.width<=581?(t.style.cssText="overflow: hidden;\n    text-align: -webkit-center;",e.style.minWidth="".concat(v,"px"),o.forEach((function(e){e.style.minWidth="300px"})),screen.width<=380&&(t.style.cssText="overflow: hidden",e.style.minWidth="".concat(v,"px"),o.forEach((function(e){e.style.minWidth="225px"})))):(e.style.minWidth="".concat(v,"px"),o.forEach((function(e){e.style.minWidth="500px"})))})),i.addEventListener("click",(function(){var e=m-(Math.abs(f)+1*v)/v;f-=e>=1?y:e*v,h()})),c.addEventListener("click",(function(){var e=Math.abs(f)/v;f+=e>=1?y:e*v,h()}));var h=function(){n.style.transform="translateX(".concat(f,"px)")}}}(),function(){var t=function(t){var n;(n=document.getElementById(t).elements,function(t){if(Array.isArray(t))return e(t)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter((function(e){return"button"!==e.tagName.toLowerCase()&&"button"!==e.type})).forEach((function(e){return e.value=""}))},n=function(){var e=document.querySelector(".successError");setTimeout((function(){e.remove(),document.querySelector(".overlay").style.display="none",document.querySelector(".overlayTwo").style.display="none"}),2e3)},r=function(e){var r=document.getElementById(e),c=document.createElement("div"),i=document.createElement("img");c.className="successError",c.style.cssText="font-size: 2rem; color: black;",i.height=50,r.addEventListener("submit",(function(a){a.preventDefault();var l=new FormData(r),s={};l.forEach((function(e,t){s[t]=e})),""===s.fio||""===s.phone?alert("Введите данные"):(c.textContent="Загрузка...",i.src="./images/wait/wait.gif",c.insertBefore(i,c.firstChild),r.appendChild(c),o(s).then((function(){c.textContent="Спасибо! Мы скокро с вами свяжемся!",i.src="./images/wait/success.png",c.insertBefore(i,c.firstChild),t(e),n()})).catch((function(r){c.textContent="Что то пошло не так...",i.src="./images/wait/error.png",c.insertBefore(i,c.firstChild),t(e),n(),console.error(r)})))}))};r("form1"),r("form2"),r("form3"),r("form4");var o=function(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.addEventListener("readystatechange",(function(){4===r.readyState&&(200===r.status?t():n(r.status))})),r.open("POST","./server.php"),r.setRequestHeader("Content-Type","application/json"),r.send(JSON.stringify(e))}))}}()})();